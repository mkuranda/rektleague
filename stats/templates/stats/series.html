{% extends "stats/base.html" %}
{% load staticfiles %}

{% block title %}Rekt League | {{ series }}{% endblock %}

{% block head %}
<script type="text/javascript">
{% for match in matches %}
function ReplaceGame{{ match.game_num }}() {
        {% for teammatch in match.teammatch_set.all %}
        {% for playermatch in teammatch.get_player_matches %}
        document.getElementById("{{ teammatch.side }}TeamPlayer{{ forloop.counter }}_name").innerHTML = "{{ playermatch.player.name }}";
        document.getElementById("{{ teammatch.side }}TeamPlayer{{ forloop.counter }}_kda").innerHTML = "{{ playermatch.kills }}/{{ playermatch.deaths }}/{{ playermatch.assists }}";
        document.getElementById("{{ teammatch.side }}TeamPlayer{{ forloop.counter }}_cs").innerHTML = "{{ playermatch.get_cs }}";
        document.getElementById("{{ teammatch.side }}TeamPlayer{{ forloop.counter }}_gold").innerHTML = "{{ playermatch.gold_earned }}";
        document.getElementById("{{ teammatch.side }}TeamPlayer{{ forloop.counter }}_champ").src = "{{ playermatch.champion.icon.url }}";
        {% endfor %}
        {% endfor %}
}
{% if matches %}
window.onload = function() {
	ReplaceGame1();
}
{% endif %}
{% endfor %}
</script>

<link rel="stylesheet" href="{% static 'stats/css/series.css' %}">
{% endblock %}

{% block content %}

    <section>
	    <h2>WEEK {{ series.week.number }}</h2>
	    <h1>{{ series.get_team_1.media.name }} <span class="recordSmall">({{ series.get_series_team_1.get_record_before }})</span> <span class="rekt-red">vs</span> {{ series.get_team_2.media.name }} <span class="recordSmall">({{ series.get_series_team_2.get_record_before }})</span></h1>
      <div class="matchDate">
	      <p>{{ series.date|date:"g:i a" }} EST</p>
	      <p>{{ series.date|date:"F j, Y" }}</p>
      </div>
    </section>
    <section>
      <img class="imageLeft" src="{{ series.get_team_1.media.banner.url }}">
      <span class="teamNameLeft">{{ series.get_team_1.media.name }}</span>
      <img class="imageRight" src="{{ series.get_team_2.media.banner.url }}">
      <span class="teamNameRight">{{ series.get_team_2.media.name }}</span>
    </section>
    
    {% if series.rosters_submitted and series.past_deadline and season.id > 2 %}
    <div class="teamsContainer">
      <div class="teams">
        {% for seriesplayer in series.get_team_1_players %}
        <div class="playerSection">
	  {% if seriesplayer.player.photo %}
          <img class="playerPhotoLeft" src="{{ seriesplayer.player.photo.url }}">
	  {% else %}
	  <img class="playerPhotoRight" src="/static/stats/player-photos/missing.png">
	  {% endif %}
	  <p>{{ seriesplayer.player.name }}</p>
	  <img class="laneLeft" src="{{ seriesplayer.role.icon.url }}">
        </div>
	{% endfor %}
      </div>

      <div class="teams">
        {% for seriesplayer in series.get_team_2_players %}
        <div class="playerSection">
          <img class="laneRight" src="{{ seriesplayer.role.icon.url }}">
	  <p>{{ seriesplayer.player.name }}</p>
	  {% if seriesplayer.player.photo %}
	  <img class="playerPhotoRight" src="{{ seriesplayer.player.photo.url }}">
	  {% else %}
	  <img class="playerPhotoRight" src="/static/stats/player-photos/missing.png">
	  {% endif %}
        </div>
	{% endfor %}
      </div>
    </div>
    {% endif %}

    <!-- FILTERS -->
    <div class="clearfix"></div>
    <section>
    <h2 class="postGameHead">POST GAME</h2>
                  <!-- MATCH FILTER -->
                  <div id="filter">    
                    <div class="grey-search-button-container">
  
                      <div class="drop-item drop-list">
                
                        <ul id="rome-menu">
                             <li class="tophelp"><a class="menu-trigger" href="#">MATCH</a>
                              <ul id="subrome">
			      {% for match in matches %}
			      <a href="javascript:ReplaceGame{{ match.game_num }}();"><li>MATCH {{ match.game_num }}</li></a>
			      {% endfor %}
                          </ul> 
                        </li>              
                        </ul>
                       </div>
                     </div>
                    </div>
                  </section>
                  <div class="clearfix"></div>
                  <!-- TEAM FILTER -->

                  <!-- <div id="filter">    
                    <div class="grey-search-button-container">
  
                      <div class="drop-item drop-list">
                
                        <ul id="rome-menu">
                             <li class="tophelp"><a class="menu-trigger" href="#">TEAM</a>
                              <ul id="subrome">
                                  <li><a href="#">AIR</a></li>
                                  <li><a href="#">BRAMBLEBACK</a></li>
                          </ul> 
                        </li>              
                        </ul>
                       </div>
                    
                     </div> -->

                     <!--POST GAME STATS-->
                    
                     <!-- TEAM 1 -->
                     <div class="tableContainer">
                       <table>
                         <thead>
                           <th>
                             <img src="/static/stats/scoreboardicon_champion.png" alt="champion">
                           </th>
                           <th></th>
                           <th><img src="/static/stats/scoreboardicon_score.png"></th>
                           <th><img src="/static/stats/scoreboardicon_minion.png"></th>
                           <th><img src="/static/stats/scoreboardicon_gold.png"></th>
                         </thead>
                         <tbody>
                          <tr class="whiteRow">
                              <td><img id="BlueTeamPlayer1_champ"></td>
                              <td id="BlueTeamPlayer1_name"></td>
                              <td id="BlueTeamPlayer1_kda"></td>
                              <td id="BlueTeamPlayer1_cs"></td>
                              <td id="BlueTeamPlayer1_gold"></td>
                           </tr>
                           <tr>
                              <td><img id="BlueTeamPlayer2_champ"></td>
                              <td id="BlueTeamPlayer2_name"></td>
                              <td id="BlueTeamPlayer2_kda"></td>
                              <td id="BlueTeamPlayer2_cs"></td>
                              <td id="BlueTeamPlayer2_gold"></td>
                           </tr>
                           <tr class="whiteRow">
                              <td><img id="BlueTeamPlayer3_champ"></td>
                              <td id="BlueTeamPlayer3_name"></td>
                              <td id="BlueTeamPlayer3_kda"></td>
                              <td id="BlueTeamPlayer3_cs"></td>
                              <td id="BlueTeamPlayer3_gold"></td>
                           </tr>
                           <tr>
                              <td><img id="BlueTeamPlayer4_champ"></td>
                              <td id="BlueTeamPlayer4_name"></td>
                              <td id="BlueTeamPlayer4_kda"></td>
                              <td id="BlueTeamPlayer4_cs"></td>
                              <td id="BlueTeamPlayer4_gold"></td>
                           </tr>
                           <tr class="whiteRow">
                              <td><img id="BlueTeamPlayer5_champ"></td>
                              <td id="BlueTeamPlayer5_name"></td>
                              <td id="BlueTeamPlayer5_kda"></td>
                              <td id="BlueTeamPlayer5_cs"></td>
                              <td id="BlueTeamPlayer5_gold"></td>
                           </tr>
                         </tbody>
                       </table>
                     <!-- TEAM 2 -->
                      <table class="second">
                        <thead>
                          <th>
                            <img src="/static/stats/scoreboardicon_champion.png" alt="champion">
                          </th>
                          <th></th>
                          <th><img src="/static/stats/scoreboardicon_score.png"></th>
                          <th><img src="/static/stats/scoreboardicon_minion.png"></th>
                          <th><img src="/static/stats/scoreboardicon_gold.png"></th>
                        </thead>
                        <tbody>
                           <tr class="whiteRow">
                              <td><img id="RedTeamPlayer1_champ"></td>
                              <td id="RedTeamPlayer1_name"></td>
                              <td id="RedTeamPlayer1_kda"></td>
                              <td id="RedTeamPlayer1_cs"></td>
                              <td id="RedTeamPlayer1_gold"></td>
                           </tr>
                           <tr>
                              <td><img id="RedTeamPlayer2_champ"></td>
                              <td id="RedTeamPlayer2_name"></td>
                              <td id="RedTeamPlayer2_kda"></td>
                              <td id="RedTeamPlayer2_cs"></td>
                              <td id="RedTeamPlayer2_gold"></td>
                           </tr>
                           <tr class="whiteRow">
                              <td><img id="RedTeamPlayer3_champ"></td>
                              <td id="RedTeamPlayer3_name"></td>
                              <td id="RedTeamPlayer3_kda"></td>
                              <td id="RedTeamPlayer3_cs"></td>
                              <td id="RedTeamPlayer3_gold"></td>
                           </tr>
                           <tr>
                              <td><img id="RedTeamPlayer4_champ"></td>
                              <td id="RedTeamPlayer4_name"></td>
                              <td id="RedTeamPlayer4_kda"></td>
                              <td id="RedTeamPlayer4_cs"></td>
                              <td id="RedTeamPlayer4_gold"></td>
                           </tr>
                           <tr class="whiteRow">
                              <td><img id="RedTeamPlayer5_champ"></td>
                              <td id="RedTeamPlayer5_name"></td>
                              <td id="RedTeamPlayer5_kda"></td>
                              <td id="RedTeamPlayer5_cs"></td>
                              <td id="RedTeamPlayer5_gold"></td>
                           </tr>
                        </tbody>
                      </table>
                    </div>
                    <div class="clearfix"></div>
                    <!-- Lock In -->
                    <div class="button">
                    <span><a href="#">LOCK IN</a></span>
                    </div>
                  
            </body>
{% endblock %}

